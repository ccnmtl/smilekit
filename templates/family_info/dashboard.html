{% extends "family_info/base.html" %}
{%load smartif%}

{% block html_element %}
<html manifest="/collection_tool/manifest.cache">
{% endblock html_element %}


{% block family_info_js %}
<script src="/collection_tool/media/js/jquery.js" type="text/javascript"></script>
<script src="/family_info/media/js/localstorage.js" type="text/javascript"></script>
<script src="/family_info/media/js/cache.js" type="text/javascript"></script>
<script src="/family_info/media/js/dashboard.js" type="text/javascript"></script>
{% endblock family_info_js %}

{% block family_info_content %}
		<h2 id="contenttitle">
			Families to visit
		</h2>
		
    <div id = "start_visit_links">
    </div>

		<p id ="downloading">
		    <!-- this will be hidden once cache status is happy -->
		  This device is currently downloading these questions, along with their associated images,
		  into its local storage, so you can conduct the interview even if there is no Internet access. This can take some time.
		</p>


		 <div>
      <form action = "/family_info/end_interview" method = "post"  class = "end_interview_form" >
          <span id="end_interview_inputs">
          </span>
          <input type="submit" value ="Push family back to server" />
      </form>
    </div>


    <div >
        <textarea id = "debug_cache_status" rows="10" cols="80" > </textarea>
    </div>
<script>

  if (typeof($) == "undefined") {
    alert ("Sorry, unable to start interview at this time: unable to load jQuery.");
    document.getElementById('downloading').style.display = 'none';
    //document.getElementById('done_downloading').style.display = 'none';
    document.getElementById('debug_cache_status').style.display = 'none';
  }
  
</script>

{% endblock family_info_content %}



